name: üìù CI - Commit Changes
description: This action commits changes to the repository

runs:
  using: "composite"
  steps:
    - name: üö® Check if there are changes to commit
      shell: bash
      run: |
        if git diff --exit-code; then
            echo "changes=false" >> $GITHUB_ENV
        else
            echo "changes=true" >> $GITHUB_ENV
        fi
    - name: ‚úçÔ∏è Commit and push changes
      shell: bash
      if: env.changes == 'true'
      env:
        GH_TOKEN: ${{ secrets.GH_TOKEN }}
      run: |
        git config --global user.email "actions@github.com"
        git config --global user.name "${GITHUB_ACTOR}"
        git add --all
        git commit -m "chore(CI): update libs"
        git push origin HEAD:main
